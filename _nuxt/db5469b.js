(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{525:function(t,n,e){var map={"./af":370,"./af.js":370,"./ar":371,"./ar-dz":372,"./ar-dz.js":372,"./ar-kw":373,"./ar-kw.js":373,"./ar-ly":374,"./ar-ly.js":374,"./ar-ma":375,"./ar-ma.js":375,"./ar-ps":376,"./ar-ps.js":376,"./ar-sa":377,"./ar-sa.js":377,"./ar-tn":378,"./ar-tn.js":378,"./ar.js":371,"./az":379,"./az.js":379,"./be":380,"./be.js":380,"./bg":381,"./bg.js":381,"./bm":382,"./bm.js":382,"./bn":383,"./bn-bd":384,"./bn-bd.js":384,"./bn.js":383,"./bo":385,"./bo.js":385,"./br":386,"./br.js":386,"./bs":387,"./bs.js":387,"./ca":388,"./ca.js":388,"./cs":389,"./cs.js":389,"./cv":390,"./cv.js":390,"./cy":391,"./cy.js":391,"./da":392,"./da.js":392,"./de":393,"./de-at":394,"./de-at.js":394,"./de-ch":395,"./de-ch.js":395,"./de.js":393,"./dv":396,"./dv.js":396,"./el":397,"./el.js":397,"./en-au":398,"./en-au.js":398,"./en-ca":399,"./en-ca.js":399,"./en-gb":400,"./en-gb.js":400,"./en-ie":401,"./en-ie.js":401,"./en-il":402,"./en-il.js":402,"./en-in":403,"./en-in.js":403,"./en-nz":404,"./en-nz.js":404,"./en-sg":405,"./en-sg.js":405,"./eo":406,"./eo.js":406,"./es":407,"./es-do":408,"./es-do.js":408,"./es-mx":409,"./es-mx.js":409,"./es-us":410,"./es-us.js":410,"./es.js":407,"./et":411,"./et.js":411,"./eu":412,"./eu.js":412,"./fa":413,"./fa.js":413,"./fi":414,"./fi.js":414,"./fil":415,"./fil.js":415,"./fo":416,"./fo.js":416,"./fr":417,"./fr-ca":418,"./fr-ca.js":418,"./fr-ch":419,"./fr-ch.js":419,"./fr.js":417,"./fy":420,"./fy.js":420,"./ga":421,"./ga.js":421,"./gd":422,"./gd.js":422,"./gl":423,"./gl.js":423,"./gom-deva":424,"./gom-deva.js":424,"./gom-latn":425,"./gom-latn.js":425,"./gu":426,"./gu.js":426,"./he":427,"./he.js":427,"./hi":428,"./hi.js":428,"./hr":429,"./hr.js":429,"./hu":430,"./hu.js":430,"./hy-am":431,"./hy-am.js":431,"./id":367,"./id.js":367,"./is":432,"./is.js":432,"./it":433,"./it-ch":434,"./it-ch.js":434,"./it.js":433,"./ja":435,"./ja.js":435,"./jv":436,"./jv.js":436,"./ka":437,"./ka.js":437,"./kk":438,"./kk.js":438,"./km":439,"./km.js":439,"./kn":440,"./kn.js":440,"./ko":441,"./ko.js":441,"./ku":442,"./ku-kmr":443,"./ku-kmr.js":443,"./ku.js":442,"./ky":444,"./ky.js":444,"./lb":445,"./lb.js":445,"./lo":446,"./lo.js":446,"./lt":447,"./lt.js":447,"./lv":448,"./lv.js":448,"./me":449,"./me.js":449,"./mi":450,"./mi.js":450,"./mk":451,"./mk.js":451,"./ml":452,"./ml.js":452,"./mn":453,"./mn.js":453,"./mr":454,"./mr.js":454,"./ms":455,"./ms-my":456,"./ms-my.js":456,"./ms.js":455,"./mt":457,"./mt.js":457,"./my":458,"./my.js":458,"./nb":459,"./nb.js":459,"./ne":460,"./ne.js":460,"./nl":461,"./nl-be":462,"./nl-be.js":462,"./nl.js":461,"./nn":463,"./nn.js":463,"./oc-lnc":464,"./oc-lnc.js":464,"./pa-in":465,"./pa-in.js":465,"./pl":466,"./pl.js":466,"./pt":467,"./pt-br":468,"./pt-br.js":468,"./pt.js":467,"./ro":469,"./ro.js":469,"./ru":470,"./ru.js":470,"./sd":471,"./sd.js":471,"./se":472,"./se.js":472,"./si":473,"./si.js":473,"./sk":474,"./sk.js":474,"./sl":475,"./sl.js":475,"./sq":476,"./sq.js":476,"./sr":477,"./sr-cyrl":478,"./sr-cyrl.js":478,"./sr.js":477,"./ss":479,"./ss.js":479,"./sv":480,"./sv.js":480,"./sw":481,"./sw.js":481,"./ta":482,"./ta.js":482,"./te":483,"./te.js":483,"./tet":484,"./tet.js":484,"./tg":485,"./tg.js":485,"./th":486,"./th.js":486,"./tk":487,"./tk.js":487,"./tl-ph":488,"./tl-ph.js":488,"./tlh":489,"./tlh.js":489,"./tr":490,"./tr.js":490,"./tzl":491,"./tzl.js":491,"./tzm":492,"./tzm-latn":493,"./tzm-latn.js":493,"./tzm.js":492,"./ug-cn":494,"./ug-cn.js":494,"./uk":495,"./uk.js":495,"./ur":496,"./ur.js":496,"./uz":497,"./uz-latn":498,"./uz-latn.js":498,"./uz.js":497,"./vi":499,"./vi.js":499,"./x-pseudo":500,"./x-pseudo.js":500,"./yo":501,"./yo.js":501,"./zh-cn":502,"./zh-cn.js":502,"./zh-hk":503,"./zh-hk.js":503,"./zh-mo":504,"./zh-mo.js":504,"./zh-tw":505,"./zh-tw.js":505};function r(t){var n=c(t);return e(n)}function c(t){if(!e.o(map,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=c,t.exports=r,r.id=525},570:function(t,n,e){"use strict";e.r(n);e(11),e(138);var r=e(0),c=e(34),o=(e(90),e(14),e(366)),l=e.n(o),d=(e(367),Object(r.a)(Object(r.a)({layout:"admin/main",head:function(){return{title:"Transaction - Mirae Carwash"}},data:function(){return{search:""}},watchQuery:["search","page","length"],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function n(){var e,r,c,o,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.$axios,r=t.query,c=r.page?parseInt(r.page):"",o=r.length?parseInt(r.length):"",l=r.search?r.search:"",n.next=6,e.get("/exec?service=steam_transaction&method=get&path=read&search=".concat(l,"&page=").concat(c,"&length=").concat(o,"&sortedBy=desc"));case 6:return d=n.sent,n.abrupt("return",{transactions:d.data.data.transactions,pagination:d.data.data});case 8:case"end":return n.stop()}}),n)})))()},methods:{changePage:function(t){this.$router.push({path:this.$route.path,query:{q:this.$route.query.q,page:t}})},searchData:function(){this.$router.push({path:this.$route.path,query:{search:this.search}})},deletePost:function(t){var n=this;this.$swal.fire({title:"Apakah Anda Yakin ?",text:"Ingin Menghapus Data Ini !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"YA, HAPUS!",cancelButtonText:"TIDAK"}).then((function(e){e.isConfirmed&&n.$axios.delete("/api/admin/posts/".concat(t)).then((function(){n.$nuxt.refresh(),n.$swal.fire({title:"BERHASIL!",text:"Data Berhasil Dihapus!",icon:"success",showConfirmButton:!1,timer:2e3})}))}))},printInvoince:function(t){for(var n=window.open("","","height=400,width=800"),e="",i=0;i<t.detail_transactions.length;i++){var r=t.detail_transactions,c=2==parseInt(r[i].product_id)?"Mobil":"Motor";e+='\n              <tr>\n                <td colspan="4">'.concat(c,'</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td class="align-right">').concat(r[i].quantity,'</td>\n                <td class="align-right">').concat(this.formatCurrency(r[i].price),'</td>\n                <td class="align-right">').concat(this.formatCurrency(r[i].total_price),"</td>\n              </tr>\n        ")}var o='\n            <table class="table" border="0">\n              '.concat(e,'\n              <tr><td colspan="4"><hr></td></tr>\n              <tr>\n                <td colspan="3" class="align-right">Sub Total:</td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_price),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Discount Rp:</td>\n                <td class="align-right">0</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Grand Total : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_price),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Bayar : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_payment),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Kembalian : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.money_changes),'</td>\n              </tr>\n              <tr>\n                <td colspan="4" class="center-text">\n                  Kasir: Admin | Bayar: ').concat(t.payment_method,"\n                </td>\n              </tr>\n            </table>\n      "),l='\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Cetak Struk '.concat(t.code_transaction,'</title>\n        <style>\n          body {\n            font-family: Verdana, sans-serif;\n            font-size: 12px;\n          }\n          .container {\n            max-width: 240px;\n            margin: auto;\n            padding: 10px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n          }\n          td {\n            padding: 2px 4px;\n          }\n          hr {\n            border: none;\n            border-top: 1px solid #000;\n          }\n          .align-right {\n            text-align: right;\n          }\n          .center-text {\n            text-align: center;\n          }\n          .table-border {\n            border: 1px solid #000;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="col-md-10 col-md-offset-1">\n            <table>\n              <tr>\n                <td align="center" colspan="4">\n                  MIRAE CARWASH<br>\n                  Jl. Inspeksi Kalimalang <br>\n                  No.3, RT.1/RW.3, Pd.Kelapa, <br>\n                  Kota Jakarta Timur<br>\n                  085710003732\n                </td>\n              </tr>\n              <tr><td colspan="4"><hr></td></tr>\n              <tr>\n                <td>').concat(t.code_transaction,'</td>\n                <td align="right" colspan="3">').concat(this.formatDate(t.created_at),'</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td align="right" colspan="3"></td>\n              </tr>\n              <tr>\n                <td colspan="4">').concat(t.customer_name,'</td>\n              </tr>\n              <tr><td colspan="4"><hr></td></tr>\n            </table>\n            ').concat(o,'\n            <p class="center-text">\n              <i>Terima kasih, semoga menjadi langganan.</i>\n            </p>\n          </div>\n        </div>\n      </body>\n      </html>\n      ');n.document.write(l),n.document.close(),n.print()},showModalDetailTransaction:function(t){document.getElementById("titleLabelDetailTransactionModal").innerHTML="DETAIL TRANSAKSI <b> ".concat(t.code_transaction," </b>");for(var n="",e=t.detail_transactions,i=0;i<e.length;i++){n+='\n            <tr>\n              <td class="text-center">'.concat(i+1,"</td>\n              <td>").concat(e[i].product_code?e[i].product_code:"","</td>\n              <td>").concat(e[i].product_name?e[i].product_name:"","</td>\n              <td>").concat(e[i].product_price?this.formatCurrency(e[i].product_price):"","</td>\n              <td>").concat(e[i].quantity?e[i].quantity:"","</td>\n              <td>").concat(e[i].total_price?this.formatCurrency(e[i].total_price):"","</td>\n            </tr>\n        ")}n+='\n            <tr>\n              <td colspan="5" style="text-align: right;"><b>Total:</b></td>\n              <td> <b> '.concat(this.formatCurrency(t.total_price)," </b></td>\n            </tr>\n      ");var r='\n        <table class="table table-hover table-bordered">\n          <thead>\n            <tr class="text-center">\n              <th>No</th>\n              <th>Kode Produk</th>\n              <th>Nama Produk</th>\n              <th>Harga</th>\n              <th>Quantity</th>\n              <th>Total Harga</th>\n            </tr>\n          </thead>\n          <tbody>\n            '.concat(n,"\n          </tbody>\n        </table>\n        ");document.getElementById("tableDetailTransaction").innerHTML=r,$("#detailTransactionModal").modal("show")},formatDate:function(t){return l.a.locale("id"),l()(t).format("dddd, DD MMMM YYYY - HH:mm")},formatCurrency:function(t){return t?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t):"Rp 0"}}},"head",(function(){return{title:"Transaction - Mirae Apps",script:[{src:"/admin/js/dashboard.js",body:!0},{src:"/admin/js/Chart.roundedBarCharts.js",body:!0}],link:[{rel:"stylesheet",href:"/admin/vendors/datatables.net-bs4/dataTables.bootstrap4.css"},{rel:"stylesheet",href:"/admin/vendors/ti-icons/css/themify-icons.css"},{rel:"stylesheet",type:"text/css",href:"/admin/js/select.dataTables.min.css"}]}})),"components",{})),h=d,m=e(36),component=Object(m.a)(h,(function(){var t=this,n=t._self._c;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title pb-4"},[t._v("Posts")]),t._v(" "),n("div",{staticClass:"row bg-white"},[n("div",{staticClass:"col-md-6"},[n("NuxtLink",{staticClass:"btn btn-success btn-icon-text mb-3",attrs:{to:{name:"admin-transaction-create"}}},[n("i",{staticClass:"mdi mdi-plus"}),t._v(" "),n("span",{staticClass:"menu-title"},[t._v("Tambah Data")])])],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search data"},domProps:{value:t.search},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.searchData.apply(null,arguments)},input:function(n){n.target.composing||(t.search=n.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.searchData}},[n("i",{staticClass:"icon icon-search"})])])])])])]),t._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-hover table-bordered"},[t._m(0),t._v(" "),n("tbody",t._l(t.transactions,(function(e,r){return n("tr",{key:r},[n("td",{staticClass:"text-center"},[t._v(t._s(r+1))]),t._v(" "),n("td",[t._v(t._s(t.formatDate(e.created_at)))]),t._v(" "),n("td",[t._v(" "+t._s(e.code_transaction?e.code_transaction:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.customer_name?e.customer_name:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.total_price))+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.payment_method?e.payment_method:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.total_payment))+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.money_changes))+" ")]),t._v(" "),n("td",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-sm btn-primary btn-icon-text",attrs:{type:"button"},on:{click:function(n){return t.printInvoince(e)}}},[n("i",{staticClass:"mdi mdi-printer"}),t._v("\n                  Cetak\n                ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-info btn-icon-text",attrs:{type:"button","data-toggle":"modal"},on:{click:function(n){return t.showModalDetailTransaction(e)}}},[n("i",{staticClass:"mdi mdi-file-document-box"}),t._v("\n                  Detail\n                ")])])])})),0)])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end"},[n("vs-pagination",{attrs:{"current-page":t.pagination.currentPage,"total-pages":t.pagination.totalPage},on:{change:t.changePage}})],1),t._v(" "),n("div",{staticClass:"modal fade",attrs:{id:"detailTransactionModal",tabindex:"-1","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg"},[n("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{ref:"tableModalDetailTransaksi",staticClass:"table-responsive",attrs:{id:"tableModalDetailTransaksi"}},[n("table",{staticClass:"table table-hover table-bordered",attrs:{id:"tableDetailTransaction"}})])]),t._v(" "),t._m(2)])])])])])])}),[function(){var t=this,n=t._self._c;return n("thead",[n("tr",{staticClass:"text-center"},[n("th",[t._v("No")]),t._v(" "),n("th",[t._v("Tanggal")]),t._v(" "),n("th",[t._v("Kode Transaksi")]),t._v(" "),n("th",[t._v("Nama Pelanggan")]),t._v(" "),n("th",[t._v("Total Harga")]),t._v(" "),n("th",[t._v("Metode Pembayaran")]),t._v(" "),n("th",[t._v("Jumlah Bayar")]),t._v(" "),n("th",[t._v("Kembalian")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"titleLabelDetailTransactionModal"}},[t._v("\n                DETAIL TRANSAKSI\n              ")]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("\n                Close\n              ")])])}],!1,null,null,null);n.default=component.exports}}]);