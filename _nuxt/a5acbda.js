(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{548:function(t,n,e){var map={"./af":393,"./af.js":393,"./ar":394,"./ar-dz":395,"./ar-dz.js":395,"./ar-kw":396,"./ar-kw.js":396,"./ar-ly":397,"./ar-ly.js":397,"./ar-ma":398,"./ar-ma.js":398,"./ar-ps":399,"./ar-ps.js":399,"./ar-sa":400,"./ar-sa.js":400,"./ar-tn":401,"./ar-tn.js":401,"./ar.js":394,"./az":402,"./az.js":402,"./be":403,"./be.js":403,"./bg":404,"./bg.js":404,"./bm":405,"./bm.js":405,"./bn":406,"./bn-bd":407,"./bn-bd.js":407,"./bn.js":406,"./bo":408,"./bo.js":408,"./br":409,"./br.js":409,"./bs":410,"./bs.js":410,"./ca":411,"./ca.js":411,"./cs":412,"./cs.js":412,"./cv":413,"./cv.js":413,"./cy":414,"./cy.js":414,"./da":415,"./da.js":415,"./de":416,"./de-at":417,"./de-at.js":417,"./de-ch":418,"./de-ch.js":418,"./de.js":416,"./dv":419,"./dv.js":419,"./el":420,"./el.js":420,"./en-au":421,"./en-au.js":421,"./en-ca":422,"./en-ca.js":422,"./en-gb":423,"./en-gb.js":423,"./en-ie":424,"./en-ie.js":424,"./en-il":425,"./en-il.js":425,"./en-in":426,"./en-in.js":426,"./en-nz":427,"./en-nz.js":427,"./en-sg":428,"./en-sg.js":428,"./eo":429,"./eo.js":429,"./es":430,"./es-do":431,"./es-do.js":431,"./es-mx":432,"./es-mx.js":432,"./es-us":433,"./es-us.js":433,"./es.js":430,"./et":434,"./et.js":434,"./eu":435,"./eu.js":435,"./fa":436,"./fa.js":436,"./fi":437,"./fi.js":437,"./fil":438,"./fil.js":438,"./fo":439,"./fo.js":439,"./fr":440,"./fr-ca":441,"./fr-ca.js":441,"./fr-ch":442,"./fr-ch.js":442,"./fr.js":440,"./fy":443,"./fy.js":443,"./ga":444,"./ga.js":444,"./gd":445,"./gd.js":445,"./gl":446,"./gl.js":446,"./gom-deva":447,"./gom-deva.js":447,"./gom-latn":448,"./gom-latn.js":448,"./gu":449,"./gu.js":449,"./he":450,"./he.js":450,"./hi":451,"./hi.js":451,"./hr":452,"./hr.js":452,"./hu":453,"./hu.js":453,"./hy-am":454,"./hy-am.js":454,"./id":390,"./id.js":390,"./is":455,"./is.js":455,"./it":456,"./it-ch":457,"./it-ch.js":457,"./it.js":456,"./ja":458,"./ja.js":458,"./jv":459,"./jv.js":459,"./ka":460,"./ka.js":460,"./kk":461,"./kk.js":461,"./km":462,"./km.js":462,"./kn":463,"./kn.js":463,"./ko":464,"./ko.js":464,"./ku":465,"./ku-kmr":466,"./ku-kmr.js":466,"./ku.js":465,"./ky":467,"./ky.js":467,"./lb":468,"./lb.js":468,"./lo":469,"./lo.js":469,"./lt":470,"./lt.js":470,"./lv":471,"./lv.js":471,"./me":472,"./me.js":472,"./mi":473,"./mi.js":473,"./mk":474,"./mk.js":474,"./ml":475,"./ml.js":475,"./mn":476,"./mn.js":476,"./mr":477,"./mr.js":477,"./ms":478,"./ms-my":479,"./ms-my.js":479,"./ms.js":478,"./mt":480,"./mt.js":480,"./my":481,"./my.js":481,"./nb":482,"./nb.js":482,"./ne":483,"./ne.js":483,"./nl":484,"./nl-be":485,"./nl-be.js":485,"./nl.js":484,"./nn":486,"./nn.js":486,"./oc-lnc":487,"./oc-lnc.js":487,"./pa-in":488,"./pa-in.js":488,"./pl":489,"./pl.js":489,"./pt":490,"./pt-br":491,"./pt-br.js":491,"./pt.js":490,"./ro":492,"./ro.js":492,"./ru":493,"./ru.js":493,"./sd":494,"./sd.js":494,"./se":495,"./se.js":495,"./si":496,"./si.js":496,"./sk":497,"./sk.js":497,"./sl":498,"./sl.js":498,"./sq":499,"./sq.js":499,"./sr":500,"./sr-cyrl":501,"./sr-cyrl.js":501,"./sr.js":500,"./ss":502,"./ss.js":502,"./sv":503,"./sv.js":503,"./sw":504,"./sw.js":504,"./ta":505,"./ta.js":505,"./te":506,"./te.js":506,"./tet":507,"./tet.js":507,"./tg":508,"./tg.js":508,"./th":509,"./th.js":509,"./tk":510,"./tk.js":510,"./tl-ph":511,"./tl-ph.js":511,"./tlh":512,"./tlh.js":512,"./tr":513,"./tr.js":513,"./tzl":514,"./tzl.js":514,"./tzm":515,"./tzm-latn":516,"./tzm-latn.js":516,"./tzm.js":515,"./ug-cn":517,"./ug-cn.js":517,"./uk":518,"./uk.js":518,"./ur":519,"./ur.js":519,"./uz":520,"./uz-latn":521,"./uz-latn.js":521,"./uz.js":520,"./vi":522,"./vi.js":522,"./x-pseudo":523,"./x-pseudo.js":523,"./yo":524,"./yo.js":524,"./zh-cn":525,"./zh-cn.js":525,"./zh-hk":526,"./zh-hk.js":526,"./zh-mo":527,"./zh-mo.js":527,"./zh-tw":528,"./zh-tw.js":528};function r(t){var n=c(t);return e(n)}function c(t){if(!e.o(map,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=c,t.exports=r,r.id=548},593:function(t,n,e){"use strict";e.r(n);e(25),e(164);var r=e(3),c=e(52),o=(e(115),e(28),e(389)),l=e.n(o),d=(e(390),Object(r.a)(Object(r.a)({layout:"admin/main",head:function(){return{title:"Transaction - Mirae Carwash"}},data:function(){return{search:""}},watchQuery:["search","page","length"],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function n(){var e,r,c,o,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.$axios,r=t.query,c=r.page?parseInt(r.page):"",o=r.length?parseInt(r.length):"",l=r.search?r.search:"",n.next=6,e.get("/exec?service=steam_transaction&method=get&path=read&search=".concat(l,"&page=").concat(c,"&length=").concat(o,"&sortedBy=desc"));case 6:return d=n.sent,n.abrupt("return",{transactions:d.data.data.transactions,pagination:d.data.data});case 8:case"end":return n.stop()}}),n)})))()},methods:{changePage:function(t){this.$router.push({path:this.$route.path,query:{q:this.$route.query.q,page:t}})},searchData:function(){this.$router.push({path:this.$route.path,query:{search:this.search}})},deletePost:function(t){var n=this;this.$swal.fire({title:"Apakah Anda Yakin ?",text:"Ingin Menghapus Data Ini !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"YA, HAPUS!",cancelButtonText:"TIDAK"}).then((function(e){e.isConfirmed&&n.$axios.delete("/api/admin/posts/".concat(t)).then((function(){n.$nuxt.refresh(),n.$swal.fire({title:"BERHASIL!",text:"Data Berhasil Dihapus!",icon:"success",showConfirmButton:!1,timer:2e3})}))}))},printInvoince:function(t){for(var n=window.open("","","height=400,width=800"),e="",i=0;i<t.detail_transactions.length;i++){var r=t.detail_transactions,c=2==parseInt(r[i].product_id)?"Mobil":"Motor";e+='\n              <tr>\n                <td colspan="4">'.concat(c,'</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td class="align-right">').concat(r[i].quantity,'</td>\n                <td class="align-right">').concat(this.formatCurrency(r[i].price),'</td>\n                <td class="align-right">').concat(this.formatCurrency(r[i].total_price),"</td>\n              </tr>\n        ")}var o='\n            <table class="table" border="0">\n              '.concat(e,'\n              <tr><td colspan="4"><hr></td></tr>\n              <tr>\n                <td colspan="3" class="align-right">Sub Total:</td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_price),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Discount Rp:</td>\n                <td class="align-right">0</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Grand Total : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_price),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Bayar : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.total_payment),'</td>\n              </tr>\n              <tr>\n                <td colspan="3" class="align-right">Kembalian : </td>\n                <td class="align-right">').concat(this.formatCurrency(t.money_changes),'</td>\n              </tr>\n              <tr>\n                <td colspan="4" class="center-text">\n                  Kasir: Admin | Bayar: ').concat(t.payment_method,"\n                </td>\n              </tr>\n            </table>\n      "),l='\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Cetak Struk '.concat(t.code_transaction,'</title>\n        <style>\n          body {\n            font-family: Verdana, sans-serif;\n            font-size: 12px;\n          }\n          .container {\n            max-width: 240px;\n            margin: auto;\n            padding: 10px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n          }\n          td {\n            padding: 2px 4px;\n          }\n          hr {\n            border: none;\n            border-top: 1px solid #000;\n          }\n          .align-right {\n            text-align: right;\n          }\n          .center-text {\n            text-align: center;\n          }\n          .table-border {\n            border: 1px solid #000;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="col-md-10 col-md-offset-1">\n            <table>\n              <tr>\n                <td align="center" colspan="4">\n                  MIRAE CARWASH<br>\n                  Jl. Inspeksi Kalimalang <br>\n                  No.3, RT.1/RW.3, Pd.Kelapa, <br>\n                  Kota Jakarta Timur<br>\n                  085710003732\n                </td>\n              </tr>\n              <tr><td colspan="4"><hr></td></tr>\n              <tr>\n                <td>').concat(t.code_transaction,'</td>\n                <td align="right" colspan="3">').concat(this.formatDate(t.created_at),'</td>\n              </tr>\n              <tr>\n                <td></td>\n                <td align="right" colspan="3"></td>\n              </tr>\n              <tr>\n                <td colspan="4">').concat(t.customer_name,'</td>\n              </tr>\n              <tr><td colspan="4"><hr></td></tr>\n            </table>\n            ').concat(o,'\n            <p class="center-text">\n              <i>Terima kasih, semoga menjadi langganan.</i>\n            </p>\n          </div>\n        </div>\n      </body>\n      </html>\n      ');n.document.write(l),n.document.close(),n.print()},showModalDetailTransaction:function(t){document.getElementById("titleLabelDetailTransactionModal").innerHTML="DETAIL TRANSAKSI <b> ".concat(t.code_transaction," </b>");for(var n="",e=t.detail_transactions,i=0;i<e.length;i++){n+='\n            <tr>\n              <td class="text-center">'.concat(i+1,"</td>\n              <td>").concat(e[i].product_code?e[i].product_code:"","</td>\n              <td>").concat(e[i].product_name?e[i].product_name:"","</td>\n              <td>").concat(e[i].product_price?this.formatCurrency(e[i].product_price):"","</td>\n              <td>").concat(e[i].quantity?e[i].quantity:"","</td>\n              <td>").concat(e[i].total_price?this.formatCurrency(e[i].total_price):"","</td>\n            </tr>\n        ")}n+='\n            <tr>\n              <td colspan="5" style="text-align: right;"><b>Total:</b></td>\n              <td> <b> '.concat(this.formatCurrency(t.total_price)," </b></td>\n            </tr>\n      ");var r='\n        <table class="table table-hover table-bordered">\n          <thead>\n            <tr class="text-center">\n              <th>No</th>\n              <th>Kode Produk</th>\n              <th>Nama Produk</th>\n              <th>Harga</th>\n              <th>Quantity</th>\n              <th>Total Harga</th>\n            </tr>\n          </thead>\n          <tbody>\n            '.concat(n,"\n          </tbody>\n        </table>\n        ");document.getElementById("tableDetailTransaction").innerHTML=r,$("#detailTransactionModal").modal("show")},formatDate:function(t){return l.a.locale("id"),l()(t).format("dddd, DD MMMM YYYY - HH:mm")},formatCurrency:function(t){return t?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t):"Rp 0"}}},"head",(function(){return{title:"Transaction - Mirae Apps",script:[{src:"/admin/js/dashboard.js",body:!0},{src:"/admin/js/Chart.roundedBarCharts.js",body:!0}],link:[{rel:"stylesheet",href:"/admin/vendors/datatables.net-bs4/dataTables.bootstrap4.css"},{rel:"stylesheet",href:"/admin/vendors/ti-icons/css/themify-icons.css"},{rel:"stylesheet",type:"text/css",href:"/admin/js/select.dataTables.min.css"}]}})),"components",{})),h=d,m=e(54),component=Object(m.a)(h,(function(){var t=this,n=t._self._c;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title pb-4"},[t._v("Posts")]),t._v(" "),n("div",{staticClass:"row bg-white"},[n("div",{staticClass:"col-md-6"},[n("NuxtLink",{staticClass:"btn btn-success btn-icon-text mb-3",attrs:{to:{name:"admin-transaction-create"}}},[n("i",{staticClass:"mdi mdi-plus"}),t._v(" "),n("span",{staticClass:"menu-title"},[t._v("Tambah Data")])])],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search data"},domProps:{value:t.search},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.searchData.apply(null,arguments)},input:function(n){n.target.composing||(t.search=n.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.searchData}},[n("i",{staticClass:"icon icon-search"})])])])])])]),t._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-hover table-bordered"},[t._m(0),t._v(" "),n("tbody",t._l(t.transactions,(function(e,r){return n("tr",{key:r},[n("td",{staticClass:"text-center"},[t._v(t._s(r+1))]),t._v(" "),n("td",[t._v(t._s(t.formatDate(e.created_at)))]),t._v(" "),n("td",[t._v(" "+t._s(e.code_transaction?e.code_transaction:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.customer_name?e.customer_name:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.total_price))+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.payment_method?e.payment_method:"")+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.total_payment))+" ")]),t._v(" "),n("td",[t._v(" "+t._s(t._f("currencyRupiah")(e.money_changes))+" ")]),t._v(" "),n("td",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-sm btn-primary btn-icon-text",attrs:{type:"button"},on:{click:function(n){return t.printInvoince(e)}}},[n("i",{staticClass:"mdi mdi-printer"}),t._v("\n                  Cetak\n                ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-info btn-icon-text",attrs:{type:"button","data-toggle":"modal"},on:{click:function(n){return t.showModalDetailTransaction(e)}}},[n("i",{staticClass:"mdi mdi-file-document-box"}),t._v("\n                  Detail\n                ")])])])})),0)])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end"},[n("vs-pagination",{attrs:{"current-page":t.pagination.currentPage,"total-pages":t.pagination.totalPage},on:{change:t.changePage}})],1),t._v(" "),n("div",{staticClass:"modal fade",attrs:{id:"detailTransactionModal",tabindex:"-1","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg"},[n("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{ref:"tableModalDetailTransaksi",staticClass:"table-responsive",attrs:{id:"tableModalDetailTransaksi"}},[n("table",{staticClass:"table table-hover table-bordered",attrs:{id:"tableDetailTransaction"}})])]),t._v(" "),t._m(2)])])])])])])}),[function(){var t=this,n=t._self._c;return n("thead",[n("tr",{staticClass:"text-center"},[n("th",[t._v("No")]),t._v(" "),n("th",[t._v("Tanggal")]),t._v(" "),n("th",[t._v("Kode Transaksi")]),t._v(" "),n("th",[t._v("Nama Pelanggan")]),t._v(" "),n("th",[t._v("Total Harga")]),t._v(" "),n("th",[t._v("Metode Pembayaran")]),t._v(" "),n("th",[t._v("Jumlah Bayar")]),t._v(" "),n("th",[t._v("Kembalian")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"titleLabelDetailTransactionModal"}},[t._v("\n                DETAIL TRANSAKSI\n              ")]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("\n                Close\n              ")])])}],!1,null,null,null);n.default=component.exports}}]);