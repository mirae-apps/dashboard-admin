(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{533:function(t,e,o){var content=o(559);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(96).default)("1aa82d22",content,!0,{sourceMap:!1})},557:function(t,e,o){"use strict";var n=o(24),r=o(295).values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},558:function(t,e,o){"use strict";o(533)},559:function(t,e,o){var n=o(95)((function(i){return i[1]}));n.push([t.i,".ck-editor__editable{min-height:400px}.dropdown-menu{max-height:200px;overflow-y:auto}.dropdown-item{align-items:center;cursor:pointer;display:flex;height:45px;padding:0 10px}.show{display:block}",""]),n.locals={},t.exports=n},606:function(t,e,o){"use strict";o.r(e);o(42);var n=o(52),r=(o(115),o(14),o(86),o(10),o(97),o(206),o(8),o(557),o(25),o(138),o(68),o(205),o(12),o(72),o(58),{layout:"admin/main",head:function(){return{title:"Tambah Transaksi - Mirae Apps",script:[{src:"/admin/vendors/typeahead.js/typeahead.bundle.min.js",body:!0},{src:"/admin/vendors/select2/select2.min.js",body:!0},{src:"/admin/js/file-upload.js",body:!0},{src:"/admin/js/typeahead.js",body:!0},{src:"/admin/js/select2.js",body:!0}],link:[{rel:"stylesheet",href:"/admin/vendors/select2/select2.min.css"},{rel:"stylesheet",href:"/admin/vendors/select2-bootstrap-theme/select2-bootstrap.min.css"}]}},components:{"ckeditor-nuxt":function(){return o.e(0).then(o.t.bind(null,579,7))}},data:function(){return{filteredDataCustomers:[],filteredDataVehicles:[],formVehicleData:{isVisible:!1,vehicles:[]},formCustomerData:{id:null,name:"",phoneNumber:""},products:[],customers:[],vehicles:[],paymentMethods:[],optionPaymentMethods:[],employees:[],customerVehicles:[],selectedProducts:{grand_total:0,payment_method_id:0,payment_method:"",total_payment:0,money_changes:"",products:[]},transaction:{id:null,code_transaction:"",grand_total:0,payment_method:"",total_payment:0,money_changes:"",customer:{id:null,name:"",phoneNumber:""}},validation:[]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.addEventListener("click",t.handleClickOutside.bind(t)),console.log("Fetching Data Products"),t.$axios.get("/exec?service=product&method=get&path=read&search=&page=1&length=1000000&sortedBy=asc").then((function(e){t.products=e.data.data.products,console.log("PRINT DATA PRODUCT"),console.log(t.products)})),console.log("Fetching Data Customers"),t.$axios.get("/exec?service=customer&method=get&path=read&search=&page=1&length=1000000&sortedBy=asc").then((function(e){t.customers=e.data.data.customers,t.filteredDataCustomers=t.customers,console.log("PRINT DATA CUSTOMER"),console.log(t.customers)})),console.log("Fetching Data Vehicles"),t.$axios.get("/exec?service=vehicle&method=get&path=read&search=&page=1&length=1000000&sortedBy=asc").then((function(e){console.log("PRINT DATA VEHICLES"),console.log(t.vehicles),t.vehicles=e.data.data.vehicles,t.filteredDataVehicles=t.vehicles})),console.log("Fetching Data Payment Methods"),t.$axios.get("/exec?service=payment_method&method=get&path=read&search=&page=1&length=1000000&sortedBy=asc").then((function(e){console.log("PRINT DATA PAYMENT METHODS"),console.log(t.paymentMethods),t.paymentMethods=e.data.data.paymentMethods,t.paymentMethods.forEach((function(e){t.optionPaymentMethods.push({value:e.id,text:e.name})}))})),console.log("Fetching Data Employees"),t.$axios.get("/exec?service=employee&method=get&path=read&search=&page=1&length=1000000&sortedBy=asc").then((function(e){t.employees=e.data.data.employees,console.log("PRINT DATA EMPLOYEES"),console.log(t.employees)})),e.next=13,t.generateCodeTransaction();case 13:t.transaction.code_transaction=e.sent;case 14:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){document.removeEventListener("click",this.handleClickOutside.bind(this))},methods:{generateCodeTransaction:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),o="TRX-".concat(e),console.log(o),t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})))()},handleFileChange:function(t){(this.post.image=t.target.files[0]).type.match("image.*")||(t.target.value="",this.post.image=null,this.$swal.fire({title:"OOPS!",text:"Format File Tidak Didukung!",icon:"error",showConfirmButton:!1,timer:2e3}))},storePost:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.post.tags,n=[],o.forEach((function(t){n.push(t.id)})),(r=new FormData).append("image",t.post.image),r.append("title",t.post.title),r.append("category_id",t.post.category_id?t.post.category_id.id:""),r.append("content",t.post.content),r.append("description",t.post.description),i=0;i<n.length;i++)r.append("tags[]",n[i]);return e.next=12,t.$axios.post("/api/admin/posts",r).then((function(){t.$swal.fire({title:"BERHASIL!",text:"Data Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3}),t.$router.push({name:"admin-post"})})).catch((function(e){t.validation=e.response.data}));case 12:case"end":return e.stop()}}),e)})))()},showModalProduct:function(){$("#choiceProductModal").modal("show")},actionChoiceProduct:function(t){var e=this;console.log(t),t.quantity=1,t.total_price=parseInt(t.price)*parseInt(t.quantity||1),this.selectedProducts.products.push(t),this.selectedProducts.grand_total=0,this.selectedProducts.products.forEach((function(t){e.selectedProducts.grand_total+=parseInt(t.total_price)})),this.checkIsVisibleFormVehicle(),$("#choiceProductModal").modal("hide")},inputQtyChange:function(t,e,o){var n=this;e.total_price=e.price*t.target.value,this.selectedProducts.grand_total=0,this.selectedProducts.products.forEach((function(t){console.log("FOREACH"),console.log(t.total_price),n.selectedProducts.grand_total+=parseInt(t.total_price)})),this.checkIsVisibleFormVehicle()},deleteSelectedProduct:function(t){var e=this,o=this.selectedProducts.products.indexOf(t);this.selectedProducts.products.splice(o,1),this.selectedProducts.grand_total=0,this.selectedProducts.products.forEach((function(t){e.selectedProducts.grand_total+=parseInt(t.total_price)})),this.checkIsVisibleFormVehicle()},checkIsVisibleFormVehicle:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formVehicleData.isVisible=!1,t.selectedProducts.products.forEach((function(e){1!=e.id&&2!=e.id||(t.formVehicleData.isVisible=!0)})),t.countTotalVehicle();case 3:case"end":return e.stop()}}),e)})))()},countTotalVehicle:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formVehicleData.vehicles=[],t.selectedProducts.products.forEach((function(e){if(1==e.id||2==e.id){for(var o=[],i=0;i<e.quantity;i++){var n={id:null,product_id:e.id,type:1==e.id?"Motor":"Mobil"};o.push(n),t.formVehicleData.vehicles.push(n)}e.vehicles=o}})),console.log("PRINT DATA VEHICLES"),console.log(t.formVehicleData.vehicles),console.log("TOTAL VEHICLES"),console.log(t.formVehicleData.vehicles.length);case 6:case"end":return e.stop()}}),e)})))()},filterDataCustomer:function(t,e){var input=t.target.value.toLowerCase();this.filteredDataCustomers=this.customers.filter((function(t){return Object.values(t).some((function(t){return String(t).toLowerCase().includes(input)}))})),this.onInputNameCustomer(t,e)},filterDataVehicle:function(t,e,o){var input=t.target.value.toLowerCase();this.filteredDataVehicles=this.vehicles.filter((function(t){return Object.values(t).some((function(t){return String(t).toLowerCase().includes(input)}))})),this.onInputNameVehicle(t,e,o)},onInputNameVehicle:function(t,e,o){console.log("ON INPUT NAME VEHICLE --- IS TYPING "),e.manualInputDataVehicle=!0},onInputPlateNumberVehicle:function(t,e,o){console.log("ON INPUT PLATE NUMBER VEHICLE --- IS TYPING ");var n=t.target.value,r=e.value_plate_number_selected_item;e.manualInputDataVehicle=n!=r},onInputNameCustomer:function(t,e){console.log("ON INPUT CUSTOMER NAME --- IS TYPING "),e.manualInputDataCustomer=!0},onInputPhoneNumberCustomer:function(t,e,o){console.log("ON INPUT CUSTOMER NAME --- IS TYPING ");var n=t.target.value,r=e.value_phone_number_selected_item;e.manualInputDataCustomer=n!=r},selectItemCustomer:function(t,e,o){console.log("SELECT ITEM CUSTOMER"),console.log(o),e.id=o.id,e.name=o.name,e.phoneNumber=o.phone_number,e.value_phone_number_selected_item=o.phone_number,e.manualInputDataCustomer=!1,e.showCustomerNameDropdown=!1},selectItemVehicle:function(t,e,o){console.log("SELECT ITEM VEHICLE"),e.id=o.id,e.name=o.name,e.type=o.type,e.plate_number=o.plate_number,e.value_plate_number_selected_item=o.plate_number,e.manualInputDataVehicle=!1,e.showVehicleNameDropdown=!1,this.$forceUpdate()},handleClickOutside:function(t){},onFocusHandleInputVehicle:function(t,e){e.showVehicleNameDropdown=!0,this.$forceUpdate()},onBlurHandleInputVehicle:function(t,e){var o=this;setTimeout((function(){e.showVehicleNameDropdown=!1,o.$forceUpdate()}),100)},onFocusHandleInputCustomer:function(t){t.showCustomerNameDropdown=!0,this.$forceUpdate()},onBlurHandleInputCustomer:function(t){var e=this;setTimeout((function(){t.showCustomerNameDropdown=!1,e.$forceUpdate()}),100)},preventBlur:function(t){t.preventDefault()},onInputTotalPayment:function(t){var e=t;this.selectedProducts.money_changes=e-this.selectedProducts.grand_total},onCheckEmployees:function(t,e,o){console.log("EVENT"),console.log(t.target.checked),console.log("NAME"),console.log(e),t.target.checked?null==o.employees||null==o.employees?(o.employees=[],console.log("INITIALIZE AND PUSH EMPLOYEES"),o.employees.push(e)):(console.log("PUSH EMPLOYEES"),o.employees.push(e)):o.employees.splice(o.employees.indexOf(e),1)},validateDataFormTransaction:function(){console.log("VALIDATE FORM TRANSACTION"),console.log(this.formTransaction);var t={isValid:!1,message:"",data:null},e={id:this.formCustomerData.manualInputDataCustomer?null:this.formCustomerData.id,name:this.formCustomerData.name,phone_number:this.formCustomerData.phoneNumber};if(console.log("NEW CUSTOMER"),console.log(e),""==e.name||""==e.phone_number)return t.isValid=!1,t.message="Data pelanggan nama dan nomor telepon harus diisi!",t;var o=[];if(this.selectedProducts.products.forEach((function(t){console.log("FOREACH"),console.log(t),null==t.vehicles&&null==t.vehicles||t.vehicles.forEach((function(t){t.id=t.manualInputDataVehicle?null:t.id}));var e={transaction_id:null,product_id:t.id,product_code:t.code,product_name:t.name,product_type:t.type,customer_vehicle_id:null,quantity:t.quantity,price:t.price,total_price:t.total_price,employees:t.employees,vehicles:t.vehicles};o.push(e)})),console.log("NEW DETAIL TRANSACTION"),console.log(o),0==o.length)return t.isValid=!1,t.message="Data produk harus diisi!",t;var n={id:null,code_transaction:this.transaction.code_transaction,customer_id:e.id,grand_total:this.selectedProducts.grand_total,payment_method_id:this.selectedProducts.payment_method_id,total_payment:this.selectedProducts.total_payment,money_changes:this.selectedProducts.money_changes};if(console.log("NEW TRANSACTION"),console.log(n),0==n.total_payment)return t.isValid=!1,t.message="Total bayar harus diisi!",t;if(n.money_changes<0)return t.isValid=!1,t.message="Total bayar tidak boleh kurang dari harga total!",t;if(0==n.payment_method_id||null==n.payment_method_id)return t.isValid=!1,t.message="Metode pembayaran harus diisi!",t;var r=[];this.formVehicleData.vehicles.forEach((function(t){console.log("FOREACH"),console.log(t);var e={id:t.manualInputDataVehicle?null:t.id,name:t.name,type:t.type,plate_number:t.plate_number};r.push(e)})),console.log("NEW VEHICLES"),console.log(r);for(var i=0;i<r.length;i++)if(0!=r.length&&(null==r[i].name||""==r[i].name||null==r[i].plate_number||""==r[i].plate_number))return t.isValid=!1,t.message="Setiap data kendaraan nama dan plat nomor harus diisi!",t;for(var c=0;c<o.length;c++)if("jasa"==o[c].product_type&&(null==o[c].employees||""==o[c].employees))return t.isValid=!1,t.message="Data petugas karyawan harus diisi di setiap layanan jasa produk!",t;var l={path:"create",method:"post",service:"steam_transaction",customer:e,transaction:n,detail_transactions:o};return console.log("PAYLOAD RAW"),console.log(l),t.isValid=!0,t.message="Form transaksi valid",t.data=l,t},actionCreateTransaction:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ACTION CREATE TRANSACTION"),o=t.validateDataFormTransaction(),console.log("VALIDATE DATA FORM TRANSACTION"),console.log(o),o.isValid){e.next=7;break}return t.$swal.fire({title:"Form Transaksi Tidak Valid",text:"".concat(o.message),icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"Oke"}).then((function(t){})),e.abrupt("return");case 7:return t.$swal.fire({title:"Menambahkan Data Transaksi!",timerProgressBar:!0,text:"Please wait...",didOpen:function(){t.$swal.showLoading()},willClose:function(){}}).then((function(t){})),console.log("PAYLOAD"),console.log(o.data),n=o.data,e.prev=11,e.next=14,fetch("https://script.google.com/macros/s/AKfycbyGOMw-RJt2ag4-W5hbleOQsUDOXOmczeIn_O84qz2z_5xoxfYvrT0j9EvFu-Vv46nc/exec",{method:"POST",body:JSON.stringify(n)});case 14:if((r=e.sent).ok){e.next=17;break}throw new Error("Network response was not ok");case 17:return e.next=19,r.json();case 19:if(200==(data=e.sent).code){e.next=22;break}throw new Error("".concat(data.message));case 22:t.$router.push({name:"admin-transaction"}),t.$swal.fire({title:"BERHASIL!",text:"Data Transaksi Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(11),console.error("Error:",e.t0),t.$swal.fire({title:"Error",text:"Terjadi Kesalahan Pada Sistem! ".concat(e.t0.message),icon:"error"});case 30:case"end":return e.stop()}}),e,null,[[11,26]])})))()}},watch:{},computed:{}}),c=(o(558),o(54)),component=Object(c.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Tambah Data Transaksi")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputName1"}},[t._v("Kode Transaksi")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.code_transaction,expression:"transaction.code_transaction"}],staticClass:"form-control",attrs:{type:"text",id:"kodeTransaksi",placeholder:"Kode Transaksi",disabled:""},domProps:{value:t.transaction.code_transaction},on:{input:function(e){e.target.composing||t.$set(t.transaction,"code_transaction",e.target.value)}}}),t._v(" "),t.validation.code_transaction?e("div",{staticClass:"mt-3"},[e("vs-alert",{attrs:{variant:"error"}},[t._v(" "+t._s(t.validation.title[0])+" ")])],1):t._e()]),t._v(" "),e("div",{staticClass:"card border-primary"},[e("h6",{},[t._v("Isi Data Pelanggan")]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Nama Pelanggan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formCustomerData.name,expression:"formCustomerData.name"}],ref:"customerNameInput",staticClass:"form-control",attrs:{type:"text",placeholder:"Masukan Nama Pelanggan"},domProps:{value:t.formCustomerData.name},on:{focus:function(e){return t.onFocusHandleInputCustomer(t.formCustomerData)},blur:function(e){return t.onBlurHandleInputCustomer(t.formCustomerData)},input:[function(e){e.target.composing||t.$set(t.formCustomerData,"name",e.target.value)},function(e){return t.filterDataCustomer(e,t.formCustomerData)}]}}),t._v(" "),t.formCustomerData.showCustomerNameDropdown?e("div",{staticClass:"dropdown"},[e("div",{ref:"dropdownMenuDataCustomer",staticClass:"dropdown-menu w-100",class:{show:t.filteredDataCustomers.length>0},on:{mousedown:t.preventBlur}},t._l(t.filteredDataCustomers,(function(o,n){return e("a",{key:n,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.selectItemCustomer(n,t.formCustomerData,o)}}},[t._v("\n                    "+t._s(o.name+" - "+o.phone_number)+"\n                  ")])})),0)]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("No Telepon Pelanggan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formCustomerData.phoneNumber,expression:"formCustomerData.phoneNumber"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Masukan No Telepon Pelanggan"},domProps:{value:t.formCustomerData.phoneNumber},on:{input:[function(e){e.target.composing||t.$set(t.formCustomerData,"phoneNumber",e.target.value)},function(e){return t.onInputPhoneNumberCustomer(e,t.formCustomerData)}]}})])]),t._v(" "),e("div",{staticClass:"row ml-1 mb-3"},[e("button",{staticClass:"btn btn-sm btn-info btn-icon-text",attrs:{type:"button","data-toggle":"modal"},on:{click:t.showModalProduct}},[e("i",{staticClass:"mdi mdi-file-document-box"}),t._v("\n              Pilih Produk\n            ")])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover table-bordered mb-2"},[t._m(0),t._v(" "),e("tbody",[t._l(t.selectedProducts.products,(function(o,n){return e("tr",{key:n},[e("td",{staticClass:"text-center"},[t._v(t._s(n+1))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(o.code))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(o.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(t._f("currencyRupiah")(o.price)))]),t._v(" "),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:o.quantity,expression:"product.quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"exampleInputName1",placeholder:"Quantity"},domProps:{value:o.quantity},on:{input:[function(e){e.target.composing||t.$set(o,"quantity",t._n(e.target.value))},function(e){return t.inputQtyChange(e,o,n)}],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(t._f("currencyRupiah")(o.total_price)))]),t._v(" "),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-danger btn-icon-text",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.deleteSelectedProduct(o)}}},[t._m(1,!0)])])])})),t._v(" "),t.selectedProducts.products.length?e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("\n                    Grand Total :\n                  ")]),t._v(" "),e("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t._f("currencyRupiah")(t.selectedProducts.grand_total))+"\n                  ")])]):t._e(),t._v(" "),t.selectedProducts.products.length?e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("\n                    Total Bayar :\n                  ")]),t._v(" "),e("td",{staticClass:"text-left",attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.selectedProducts.total_payment,expression:"selectedProducts.total_payment",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"exampleInputName1",placeholder:"Total Bayar"},domProps:{value:t.selectedProducts.total_payment},on:{input:[function(e){e.target.composing||t.$set(t.selectedProducts,"total_payment",t._n(e.target.value))},function(e){return t.onInputTotalPayment(e.target.value)}],blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-warning btn-icon-text mt-3",attrs:{type:"button"},on:{click:function(e){return t.onInputTotalPayment(t.selectedProducts.total_payment=t.selectedProducts.grand_total)}}},[t._m(2)])])]):t._e(),t._v(" "),t.selectedProducts.products.length?e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("\n                    Kembalian :\n                  ")]),t._v(" "),e("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t._f("currencyRupiah")(t.selectedProducts.money_changes))+"\n                  ")])]):t._e(),t._v(" "),t.selectedProducts.products.length?e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("\n                    Metode Pembayaran :\n                  ")]),t._v(" "),e("td",{staticClass:"text-left",attrs:{colspan:"2"}},[e("b-form-select",{attrs:{id:"input-3",options:t.optionPaymentMethods,required:""},model:{value:t.selectedProducts.payment_method_id,callback:function(e){t.$set(t.selectedProducts,"payment_method_id",t._n(e))},expression:"selectedProducts.payment_method_id"}})],1)]):t._e(),t._v(" "),t.selectedProducts.products.length?t._e():e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[t._v("Belum ada produk yang di pilih!")])])],2)])]),t._v(" "),t.formVehicleData.isVisible?e("div",{staticClass:"col-md-12 grid-margin stretch-card mt-5"},[e("div",{staticClass:"card"},[e("h6",[t._v("Isi Data Kendaraan")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.formVehicleData.vehicles,(function(o,n){return e("div",{key:n,staticClass:"col-md-6",class:n>1?"mt-5":""},[e("p",{staticClass:"card-description"},[t._v(" #Isi Data Kendaraan Ke "+t._s(n+1)+" : "+t._s("motor"===o.type.toLowerCase()?"Motor":"Mobil")+" ")]),t._v(" "),e("form",{staticClass:"forms-sample"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputUsername1"}},[t._v("Nama Kendaraan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.name,expression:"vehicleForm.name"}],ref:"VehicleNameInputKe0",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:"Masukan Nama Kendaraan Ke "+(n+1)},domProps:{value:o.name},on:{focus:function(e){return t.onFocusHandleInputVehicle(n,o)},blur:function(e){return t.onBlurHandleInputVehicle(n,o)},input:[function(e){e.target.composing||t.$set(o,"name",e.target.value)},function(e){return t.filterDataVehicle(e,o,n)}]}}),t._v(" "),o.showVehicleNameDropdown?e("div",{staticClass:"dropdown"},[e("div",{ref:"VehicleNameDropdownKe0",refInFor:!0,staticClass:"dropdown-menu w-100",class:{show:t.filteredDataVehicles.length>0},on:{mousedown:t.preventBlur}},t._l(t.filteredDataVehicles,(function(r){return e("a",{key:r.id,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.selectItemVehicle(n,o,r)}}},[t._v(t._s(r.name+" - "+r.type+" - "+r.plate_number))])})),0)]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Tipe Kendaraan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.type,expression:"vehicleForm.type"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Masukan Tipe Kendaraan"+(n+1)},domProps:{value:o.type},on:{input:function(e){e.target.composing||t.$set(o,"type",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Plat Nomor Kendaraan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.plate_number,expression:"vehicleForm.plate_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Masukan Plat Nomor Kendaraan"+(n+1)},domProps:{value:o.plate_number},on:{input:[function(e){e.target.composing||t.$set(o,"plate_number",e.target.value)},function(e){return t.onInputPlateNumberVehicle(e,o,n)}]}})])])])})),0)])]):t._e(),t._v(" "),t.selectedProducts.products.length>0?e("div",{staticClass:"col-md-6"},t._l(t.selectedProducts.products,(function(o,n){return e("div",{key:n},["jasa"===o.type.toLowerCase()?e("div",[e("h6",{staticClass:"mt-3"},[t._v("Pilih Petugas Untuk Layanan "),e("br"),t._v(" ("+t._s(o.code+" - "+o.name)+") :\n                ")]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},t._l(t.employees,(function(n,r){return e("div",{key:r,staticClass:"form-check"},[e("label",{staticClass:"form-check-label"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox"},on:{change:function(e){return t.onCheckEmployees(e,n.name,o)}}}),t._v("\n                        "+t._s(n.name)+" "),e("i",{staticClass:"input-helper"})])])})),0)])]):t._e()])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-success mr-2 w-100",attrs:{type:"submit"},on:{click:function(e){return t.actionCreateTransaction()}}},[e("b",[t._v("Simpan\n              Transaksi")])]),t._v(" "),e("NuxtLink",{staticClass:"btn btn-secondary mt-3 w-100",attrs:{to:{name:"admin-transaction"}}},[t._v("\n            Batal\n          ")])],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"choiceProductModal",tabindex:"-1","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{ref:"tableModalChoiceProduct",staticClass:"table-responsive",attrs:{id:"tableModalChoiceProduct"}},[e("table",{staticClass:"table table-hover table-bordered"},[t._m(4),t._v(" "),e("tbody",t._l(t.products,(function(o,n){return e("tr",{key:n},[e("td",{staticClass:"text-center"},[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(" "+t._s(o.code?o.code:"")+" ")]),t._v(" "),e("td",[t._v(" "+t._s(o.name?o.name:"")+" ")]),t._v(" "),e("td",[t._v(" "+t._s(t._f("currencyRupiah")(o.price))+" ")]),t._v(" "),e("td",[t._v(" "+t._s(o.type?o.type:"")+" ")]),t._v(" "),e("td",[t._v(" "+t._s(o.stock?o.stock:"")+" ")]),t._v(" "),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-primary btn-icon-text",attrs:{type:"button"},on:{click:function(e){return t.actionChoiceProduct(o)}}},[e("i",{staticClass:"mdi mdi-cursor-pointer"}),t._v("\n                      Pilih\n                    ")])])])})),0)])])]),t._v(" "),t._m(5)])])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",[t._v("No")]),t._v(" "),e("th",[t._v("Kode Produk")]),t._v(" "),e("th",[t._v("Nama Produk")]),t._v(" "),e("th",[t._v("Harga")]),t._v(" "),e("th",[t._v("Qty")]),t._v(" "),e("th",[t._v("Total Harga")]),t._v(" "),e("th",[t._v("Aksi")])])])},function(){var t=this._self._c;return t("b",[t("i",{staticClass:"mdi mdi-close"})])},function(){var t=this._self._c;return t("b",[t("i",{staticClass:"mdi mdi-cash-usd"}),this._v(" Uang Pas")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"titleLabelChoiceProductModal"}},[t._v("\n            PILIH PRODUK\n          ")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",[t._v("No")]),t._v(" "),e("th",[t._v("Kode Produk")]),t._v(" "),e("th",[t._v("Nama Produk")]),t._v(" "),e("th",[t._v("Harga")]),t._v(" "),e("th",[t._v("Jenis")]),t._v(" "),e("th",[t._v("Stok")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("\n            Close\n          ")])])}],!1,null,null,null);e.default=component.exports}}]);